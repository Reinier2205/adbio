<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Fox and Geese - Casino Edition</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@400;600;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --felt-green: #0a4821;
  --dark-wood: #2a1a1f;
  --gold: #d4af37;
  --gold-light: #ffd700;
  --light-gold: #fff8e1;
  --ivory: #faf8f0;
  --fox-color: #ff6b6b;
  --geese-color: #4ecdc4;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Lato',sans-serif;
  background-color:var(--dark-wood);
  background-image:radial-gradient(circle,#4d322e 0%,var(--dark-wood) 70%);
  display:flex;justify-content:center;align-items:center;min-height:100vh;padding:1.5rem;
}

/* Casino table */
.casino-table{
  background:var(--felt-green);
  background-image:
    radial-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
    radial-gradient(rgba(255,255,255,0.1) 1px, var(--felt-green) 1px);
  background-size:4px 4px;
  border:10px solid #4a2c2a;
  box-shadow:0 0 0 5px var(--gold), inset 0 0 25px rgba(0,0,0,0.5);
  border-radius:15px;
  padding:clamp(1.5rem, 4vw, 2rem);
  max-width:1000px;width:100%;
  position:relative;overflow:hidden;
}

/* Title */
h1{
  font-family:'Cinzel',serif;font-weight:700;color:var(--gold-light);
  font-size:clamp(1.5rem, 5vw, 2.8rem);
  text-shadow:2px 2px 5px rgba(0,0,0,0.7);
  margin-bottom:1rem;text-align:center;
}

/* Help button */
.help-btn{
  position:absolute;top:12px;right:12px;width:36px;height:36px;border-radius:50%;
  border:2px solid #111;background:radial-gradient(circle at 30% 30%, var(--gold-light), var(--gold));
  color:#111;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;
  box-shadow:0 3px 0 #111, 0 5px 10px rgba(0,0,0,0.5);
}
.help-btn:active{ transform: translateY(2px); box-shadow:0 1px 0 #111; }

/* Status */
#game-status{
  min-height:28px;
  font-size:1.1rem;
  font-weight:700;
  color:var(--light-gold);
  margin-bottom:1rem;
  text-align:center;
  text-shadow:1px 1px 2px black;
}

/* Board */
.board{
  display:grid;
  grid-template-columns:repeat(7,60px);
  grid-template-rows:repeat(7,60px);
  gap:4px;
  justify-content:center;
  margin:0 auto 1rem auto;
}
.cell{
  width:60px;height:60px;
  border-radius:50%;
  background:rgba(255,255,255,0.08);
  display:flex;align-items:center;justify-content:center;
}
.cell.playable{
  background:rgba(0,0,0,0.2);
  border:2px solid var(--gold);
}
.piece{
  width:40px;height:40px;
  border-radius:50%;
  cursor:pointer;
  box-shadow:inset -3px -3px 6px rgba(0,0,0,0.5), inset 3px 3px 6px rgba(255,255,255,0.2);
}
.fox{ background:var(--fox-color); }
.goose{ background:var(--geese-color); }

/* Buttons */
.controls{
  display:flex;gap:1rem;justify-content:center;margin-bottom:1rem;
}
button{
  font-family:'Inter',sans-serif;font-weight:600;
  padding:.7rem 1.4rem;border-radius:8px;border:2px solid #111;cursor:pointer;
  background:linear-gradient(145deg,var(--gold),#b8860b);color:white;
  text-shadow:1px 1px 2px black;
  box-shadow:0 4px 0 #111,0 5px 10px rgba(0,0,0,0.5);
  font-size:1rem;
}
button:hover:not(:disabled){
  background:linear-gradient(145deg,#ffeb80,#d4a60a);
  transform:translateY(-2px);
}
button:active{ transform:translateY(2px); box-shadow:0 1px 0 #111; }

/* Help modal */
.help-modal{ position:fixed;inset:0;background:rgba(0,0,0,0.8);
  display:flex;align-items:center;justify-content:center;
  opacity:0;visibility:hidden;transition:.3s;z-index:1000; }
.help-modal.show{ opacity:1;visibility:visible; }
.help-panel{ background:linear-gradient(145deg,#3e1e24,#2a1a1f);color:var(--light-gold);
  padding:2rem;border-radius:15px;border:3px solid var(--gold);
  box-shadow:0 0 30px var(--gold);max-width:600px;width:90%;text-align:left; }
.help-panel h3{ font-family:'Cinzel',serif;color:var(--gold-light);margin-bottom:.8rem; }
.help-actions{ text-align:center;margin-top:1rem; }
.close-help{ background:linear-gradient(145deg,#ffeb3b,var(--gold));border:2px solid #111;
  padding:.5rem 1.2rem;border-radius:8px;cursor:pointer; }
</style>
</head>
<body>
<div class="casino-table">
  <button class="help-btn" id="help-btn">?</button>
  <h1>Fox and Geese</h1>
  <div id="game-status">Your turn: Fox moves first.</div>

  <div class="board" id="board"></div>

  <div class="controls">
    <button id="new-game-btn">New Game</button>
  </div>
</div>

<!-- Help Modal -->
<div id="help-modal" class="help-modal">
  <div class="help-panel">
    <h3>How to Play: Fox and Geese</h3>
    <p>The game is played on a cross-shaped board:</p>
    <ul>
      <li>One fox vs. 13–15 geese.</li>
      <li>Fox moves like a king (one step any direction) and can capture by jumping over a goose.</li>
      <li>Geese move one step forward, left, or right — no backward moves.</li>
      <li>Fox wins by capturing enough geese to block them.</li>
      <li>Geese win by trapping the fox so it cannot move.</li>
    </ul>
    <div class="help-actions"><button id="close-help" class="close-help">Got it</button></div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const boardEl = document.getElementById("board");
  const statusEl = document.getElementById("game-status");
  const newGameBtn = document.getElementById("new-game-btn");
  const helpBtn = document.getElementById("help-btn");
  const helpModal = document.getElementById("help-modal");
  const closeHelp = document.getElementById("close-help");

  const SIZE = 7;
  let board = [];
  let foxPos = {r:3,c:3};
  let turn = "fox"; // or "geese"

  function initBoard(){
    board = Array.from({length:SIZE},()=>Array(SIZE).fill(null));
    // playable cross
    const playable = (r,c) => r===3 || c===3 || (r>1&&r<5 && c>1&&c<5);
    for(let r=0;r<SIZE;r++){
      for(let c=0;c<SIZE;c++){
        if(playable(r,c)) board[r][c]="empty";
      }
    }
    board[3][3] = "fox";
    // place geese at top
    for(let r=0;r<2;r++){
      for(let c=0;c<SIZE;c++){
        if(board[r][c]==="empty") board[r][c]="goose";
      }
    }
  }

  function renderBoard(){
    boardEl.innerHTML="";
    for(let r=0;r<SIZE;r++){
      for(let c=0;c<SIZE;c++){
        const cell=document.createElement("div");
        cell.className="cell";
        if(board[r][c]) cell.classList.add("playable");
        if(board[r][c]==="fox"){
          const piece=document.createElement("div");
          piece.className="piece fox";
          piece.dataset.r=r; piece.dataset.c=c;
          cell.appendChild(piece);
        } else if(board[r][c]==="goose"){
          const piece=document.createElement("div");
          piece.className="piece goose";
          piece.dataset.r=r; piece.dataset.c=c;
          cell.appendChild(piece);
        }
        cell.dataset.r=r; cell.dataset.c=c;
        boardEl.appendChild(cell);
      }
    }
  }

  function resetGame(){
    initBoard();
    turn="fox";
    statusEl.textContent="Your turn: Fox moves first.";
    renderBoard();
  }

  newGameBtn.addEventListener("click",resetGame);

  // Help
  helpBtn.onclick=()=>helpModal.classList.add("show");
  closeHelp.onclick=()=>helpModal.classList.remove("show");
  helpModal.onclick=e=>{ if(e.target===helpModal) helpModal.classList.remove("show"); };

  resetGame();
});
</script>
</body>
</html>