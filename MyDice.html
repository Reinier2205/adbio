<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Glossy Dice Roller</title>
<style>
  html, body {
    margin: 0; padding: 0;
    width: 100%; height: 100%;
    overflow: hidden;
    background: #111;
    color: #fff;
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    -webkit-user-select: none;
    user-select: none;
  }
  #setup, #game { display: none; text-align: center; }
  .dice-container {
    display: flex;
    gap: 60px;
    margin-top: 20px;
    perspective: 1400px;
  }
  .dice {
    width: 150px; height: 150px;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 1s cubic-bezier(.36,1.56,.3,1);
  }
  .face {
    position: absolute;
    width: 150px; height: 150px;
    border-radius: 20px;
    display: grid;
    grid-template-columns: repeat(3,1fr);
    grid-template-rows: repeat(3,1fr);
    justify-items: center; align-items: center;
    box-shadow: 0 6px 12px rgba(0,0,0,0.4);
    background-size: cover;
    background-position: center;
  }
  .pip { width: 28px; height: 28px; border-radius: 50%; }

  /* Themes */
  .classic { background: linear-gradient(145deg,#fdfdfd,#e0e0e0); }
  .classic .pip { background: #000; }

  .wood { background: linear-gradient(145deg,#8b5a2b,#deb887); }
  .wood .pip { background: #fff; }

  .marble { background: radial-gradient(circle at 30% 30%, #f8f8f8, #c0c0c0); }
  .marble .pip { background: #000; }

  .gold { background: linear-gradient(145deg,#FFD700,#B8860B); }
  .gold .pip { background: #111; }

  .casino { 
    background: linear-gradient(145deg,#d40000,#7a0000); 
    position: relative;
  }
  .casino .pip { background: #fff; }

  .casinoGreen { 
    background: linear-gradient(145deg,#008000,#004d00); 
    position: relative;
  }
  .casinoGreen .pip { background: #fff; }

  /* Gloss effect: pseudo-element overlay */
  .face::before {
    content: "";
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    border-radius: 20px;
    background: linear-gradient(135deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.05) 40%, transparent 100%);
    pointer-events: none;
  }

  /* 3D positioning */
  .front  { transform: rotateY(0deg) translateZ(75px); }
  .back   { transform: rotateY(180deg) translateZ(75px); }
  .right  { transform: rotateY(90deg) translateZ(75px); }
  .left   { transform: rotateY(-90deg) translateZ(75px); }
  .top    { transform: rotateX(90deg) translateZ(75px); }
  .bottom { transform: rotateX(-90deg) translateZ(75px); }

  button, select {
    padding: 10px 20px; margin: 10px;
    font-size: 16px;
    border: none; border-radius: 8px;
    cursor: pointer;
  }
  button { background: #ff4081; color: #fff; }
  select { background: #333; color: #fff; }

  #players input { margin: 5px; padding: 6px; border-radius: 5px; border: none; }
  #currentPlayer { margin-top: 15px; font-size: 20px; font-weight: bold; }
  #resetBtn { margin-top: 30px; background: #444; }
</style>
</head>
<body>
  <div id="setup">
    <h2>ðŸŽ² Glossy 3D Dice Roller</h2>
    <label>Dice Count:
      <select id="diceCount">
        <option value="1">1 Die</option>
        <option value="2">2 Dice</option>
      </select>
    </label>
    <br>
    <label>Theme:
      <select id="theme">
        <option value="classic">Classic</option>
        <option value="wood" selected>Wood</option>
        <option value="marble">Marble</option>
        <option value="gold">Gold</option>
        <option value="casino">Casino Red</option>
        <option value="casinoGreen">Casino Green</option>
      </select>
    </label>
    <br><br>
    <div id="players">
      <h3>Players</h3>
      <div id="playerList"></div>
      <button type="button" id="addPlayer">+ Add Player</button>
    </div>
    <br>
    <button id="start">Start Game</button>
  </div>

  <div id="game">
    <h2>Tap Anywhere to Roll</h2>
    <div id="currentPlayer"></div>
    <div class="dice-container" id="diceContainer"></div>
    <button id="resetBtn">ðŸ”„ Reset</button>
  </div>

<script>
const setup = document.getElementById("setup");
const game = document.getElementById("game");
const startBtn = document.getElementById("start");
const diceContainer = document.getElementById("diceContainer");
const currentPlayerDiv = document.getElementById("currentPlayer");
const resetBtn = document.getElementById("resetBtn");

let players = [];
let turn = 0;

setup.style.display = "block";

// Add player input fields
document.getElementById("addPlayer").onclick = () => {
  const div = document.createElement("div");
  const input = document.createElement("input");
  input.type = "text";
  input.placeholder = "Player " + (document.querySelectorAll("#playerList input").length + 1);
  div.appendChild(input);
  document.getElementById("playerList").appendChild(div);
};

function pipPattern(value){
  const layouts = {
    1: [4], 2: [0,8], 3: [0,4,8],
    4: [0,2,6,8], 5: [0,2,4,6,8],
    6: [0,2,3,5,6,8]
  };
  return layouts[value];
}

function createFace(value, theme, name){
  const face = document.createElement("div");
  face.className = "face " + theme + " " + name;
  for(let i=0;i<9;i++){
    if(pipPattern(value).includes(i)){
      const pip = document.createElement("div");
      pip.className = "pip";
      face.appendChild(pip);
    } else {
      face.appendChild(document.createElement("div"));
    }
  }
  return face;
}

function createDice(theme){
  const dice = document.createElement("div");
  dice.className = "dice";
  const faces = [
    {name:"front", value:1},
    {name:"back", value:6},
    {name:"right", value:3},
    {name:"left", value:4},
    {name:"top", value:5},
    {name:"bottom", value:2}
  ];
  faces.forEach(f=>dice.appendChild(createFace(f.value, theme, f.name)));
  return dice;
}

startBtn.onclick = () => {
  const count = document.getElementById("diceCount").value;
  const theme = document.getElementById("theme").value;

  players = [];
  document.querySelectorAll("#playerList input").forEach(inp=>{
    if(inp.value.trim()) players.push(inp.value.trim());
  });
  if(players.length===0) players = ["Player 1"];

  turn = 0;
  currentPlayerDiv.textContent = players[turn] + "'s turn";

  setup.style.display = "none";
  game.style.display = "block";
  diceContainer.innerHTML = "";
  for (let i = 0; i < count; i++) {
    diceContainer.appendChild(createDice(theme));
  }
};

document.body.addEventListener("click", () => {
  if(setup.style.display==="block") return;
  [...diceContainer.children].forEach(dice => {
    const x = 360*2 + [0,90,180,270][Math.floor(Math.random()*4)];
    const y = 360*2 + [0,90,180,270][Math.floor(Math.random()*4)];
    const z = 360*2 + [0,90,180,270][Math.floor(Math.random()*4)];
    dice.style.transform = `rotateX(${x}deg) rotateY(${y}deg) rotateZ(${z}deg)`;
  });
  turn = (turn+1) % players.length;
  currentPlayerDiv.textContent = players[turn] + "'s turn";
});

resetBtn.onclick = () => { location.reload(); };
</script>
</body>
</html>